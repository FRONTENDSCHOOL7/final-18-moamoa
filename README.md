# 🎉 MOAMOA 🎉

## 1. MOAMOA 소개
![리드미대문](https://github.com/FRONTENDSCHOOL7/final-18-moamoa/assets/118328426/e6dede76-f6d1-44f4-9a41-163d39867731)

MOAMOA는 <b>전국의 숨겨진 축제와 독특한 체험</b>을 발견할 수 있는 소셜 네트워크 서비스입니다. 이 플랫폼은 사용자들이 각지에서 열리는 문화 행사와 축제 정보를 쉽게 탐색하고, 직접 참여한 체험을 공유할 수 있는 공간을 제공합니다. MOAMOA는 사람들이 개인적인 경험을 사진, 리뷰를 통해 공유하며, 다른 이용자들과 소통할 수 있도록 도와줍니다. <br/>

MOAMOA 사용자들은 축제 또는 체험을 홍보할 수 있습니다. 회원 가입 단계에서 기업 및 기관을 선택하여 가입하면 상품 등록 권한이 생깁니다. <b>행사 운영진</b>은 직접 행사 정보를 게시할 수 있으며, <b>일반 회원</b>은 다양한 축제 소식과 참여 방법을 쉽게 접할 수 있습니다.


> **내 손 안에 축제와 체험 모아모아 💖**   

 ## [🚀 배포 URL](https://frontendschool7.github.io/final-18-moamoa/home)

```
테스트 계정 (관리자 ID)
ID: moa_festa@moamoa.com
PW: 13231323

테스트 계정 (사용자 ID)
ID: likefesta@test.com
PW: 123123
```   

<br/>

## 2. 낭랑 18조 👶

### 1) 팀원 소개
|**송재웅**|**유의진**|**이해지**|**장수연**|
| :------------------------------------------------------------------------------------------------------------------------------------------------------: | :-------------------------------------------------------------------------------------------------------: | :---------------------------------------------------------------------------------------------------------------------------------------------------------: | :-------------------------------------------------------------------------------------------------------------------------------------------------------------: |
| <img width="180" height="210" alt="jyp" src="https://github.com/FRONTENDSCHOOL7/final-18-moamoa/assets/135303974/c1f2d0a1-47f5-46a6-8926-4fed264513f6"> | <img width="180" height="210" alt="jiwon" src="https://github.com/FRONTENDSCHOOL7/final-18-moamoa/assets/135303974/b2a28339-ef5d-4a55-a3e9-c5d0ae74deb2"> | <img width="180" height="210" alt="jyp" src="https://github.com/FRONTENDSCHOOL7/final-18-moamoa/assets/135303974/c4cd07b4-d205-4ee3-85fc-c4b266b2eb1c">|  <img width="180" height="210" alt="jyp" src="https://github.com/FRONTENDSCHOOL7/final-18-moamoa/assets/135303974/f3f52131-b81d-4b74-90ed-f9559ff84dc5">|
| [ GitHub ](https://github.com/AYFG) | [ GitHub ](https://github.com/timetam24) | [ GitHub ](https://github.com/LeeeeHaeji) | [ GitHub ](https://github.com/Sooooyeon)| 
|<img  src="https://img.shields.io/badge/Communication leader-FE5F50?style=for-the-badge&logo=leader&logoColor=#FE5F50">|<img  src="https://img.shields.io/badge/Project leader-40AEF0?style=for-the-badge&logo=leader&logoColor=#40AEF0">|<img  src="https://img.shields.io/badge/QA leader-83B81A?style=for-the-badge&logo=leader&logoColor=#83B81A">|<img  src="https://img.shields.io/badge/Development leader-EF2D5E?style=for-the-badge&logo=leader&logoColor=#EF2D5E">|



<br />

### 2) 팀 목표

- 프로젝트 완성 🚀
- 배운 기술들을 최대한 활용해보기
- 우리가 쓰는 기술의 명확한 사용 이유를 알기
- React 고수 되기 **🤓**

<br/>

### 3) 개인 목표

<table>
<tr>
 <td align="center">유의진</td>
 <td>
1. 요구 사항 대로 작동하는 코드 작성하기 <br/>
 2. react와 친해지기 <br/>
 3. 웹 접근성 고려하여 사용자 위주 UI & UX 제작하기

 </td>
</tr>
<tr>
 <td align="center">이해지</td>
 <td>
   1. react에 익숙해지기 <br/>
 2. 협업 경험과 스킬 쌓기 <br/>
 3. 반응형 웹 사이트를 제작하여 포트폴리오에 추가하기
  </td>
</tr>
<tr>
 <td align="center">송재웅</td>
 <td>
1. 필수 기능을 구현 후 기한 안에 배포 <br/>
2. 배포 후 리팩토링도 진행하여 더 좋은 방향을 고민하고 배우기 <br/>
 3. 프로젝트 끝까지 즐겁게 진행하기
 </td>
</tr>
<tr>
 <td align="center">장수연</td>
 <td>
 1. 깃을 사용한 협업 경험 <br/>
 2. 소프트스킬 능력 향상 <br/>
 3. 코드의 재사용성을 높이는 컴포넌트화
 </td>
</tr>
</table>


<br />

## 3. 기술 스택

 <img  src="https://img.shields.io/badge/react-2D333B?style=for-the-badge&logo=react&logoColor=61DAFB"> <img  src="https://img.shields.io/badge/Recoil-2D333B?style=for-the-badge&logo=react&logoColor=3578E5"> <img  src="https://img.shields.io/badge/Styled component-2D333B?style=for-the-badge&logo=styledcomponents&logoColor=#DB7093"> <img  src="https://img.shields.io/badge/prettier-2D333B?style=for-the-badge&logo=prettier&logoColor=#F7B93E">
<img  src="https://img.shields.io/badge/Eslint-2D333B?style=for-the-badge&logo=Eslint&logoColor=#4B32C3"> <img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black"> <img  src="https://img.shields.io/badge/Axios-5A29E4?style=for-the-badge&logo=Axios&logoColor=#5A29E4">

<br/>

+ 코드의 일관성과 가독성을 높이기 위해 코드 형식을 자동으로 지정해주는 Prttier를 사용했습니다.   

+ 일관된 코드 스타일 유지, 잠재적인 오류 식별을 위해 ESLint를 사용했습니다.

+ 리액트의 prop drilling 문제를 해결하기 위해 상태를 유연하게 관리할 수 있는 Recoil을 사용했습니다.   

+ props를 전달하여 동적으로 스타일을 적용하는 경험을 해보고 싶어서 Styled-Components를 사용했습니다.    

+ Axios는 fetch보다 많은 기능을 지원해주고 문법이 간소화되어서 사용했습니다. XSRF Protection 보안 기능, 응답 데이터가 기본적으로 JSON 타입이라는 점, fetch처럼 객체를 문자열로 변환한 뒤 body에 할당하는 작업이 필요하지 않다는 점(자동 문자열 변환)이 장점이라 생각했습니다.

<br />

## 4. 각 페이지 기능
|                                                스플래쉬                                                 |                                                이메일로 회원가입                                                 |                                                초기 프로필 설정                                                |
| :-----------------------------------------------------------------------------------------------------: | :---------------------------------------------------------------------------------------------------: | :----------------------------------------------------------------------------------------------------: |
| ![스플래쉬](https://github.com/FRONTENDSCHOOL7/final-18-moamoa/assets/118328426/66439cef-b9ab-4601-bb37-35d25c778743) | ![이메일로 회원가입](https://github.com/FRONTENDSCHOOL7/final-18-moamoa/assets/118328426/e8ed2baf-162f-47f0-90a5-fef8801ff107) | ![프로필설정](https://github.com/FRONTENDSCHOOL7/final-18-moamoa/assets/118328426/79749e0c-cb19-4017-bde1-21be4d52159d) |

|                                                로그인                                                 |                                                홈 화면(팔로우 하는 유저 없는 경우)                                               |                                                홈 화면(팔로우 하는 유저 있는 경우)                                                |
| :-----------------------------------------------------------------------------------------------------: | :---------------------------------------------------------------------------------------------------: | :----------------------------------------------------------------------------------------------------: |
|![이메일로 로그인](https://github.com/FRONTENDSCHOOL7/final-18-moamoa/assets/118328426/520809bd-7c46-4fa3-bf7a-f39edba5afc3)| ![홈화면팔로우없음](https://github.com/FRONTENDSCHOOL7/final-18-moamoa/assets/118328426/ab29fd41-13bf-417e-9320-4a47bb0e870b) | ![홈피드 팔로워 있음](https://github.com/FRONTENDSCHOOL7/final-18-moamoa/assets/118328426/d28d73c5-693d-44c0-8665-5f68b4aba3ef) |



|                                                 게시글 상세                                                |                                                               좋아요                                                               |                                                             댓글 더보기                                                              |
| :--------------------------------------------------------------------------------------------------: | :--------------------------------------------------------------------------------------------------------------------------------: | :-------------------------------------------------------------------------------------------------------------------------------: |
| ![게시물 상세](https://github.com/timetam24/FES7_api_try/assets/135303974/890b8d90-9cd6-4a70-a73f-55a204da5ba7) | ![좋아요](https://github.com/timetam24/FES7_api_try/assets/135303974/fdd34453-b996-40d4-bb38-273705bcefdc) | ![댓글 더보기](https://github.com/timetam24/FES7_api_try/assets/135303974/cb90c422-8905-4db5-bfeb-e8f6b33e1870) |

|                                                           내 프로필 페이지 (기관) - 상품 등록                                                            |                                                           내 프로필 페이지 (기관) - 상품 수정                                                            |                                                         내 프로필 페이지 (기관) - 상품 삭제                                                         |
| :------------------------------------------------------------------------------------------------------------------------------: | :----------------------------------------------------------------------------------------------------------------------------: | :-------------------------------------------------------------------------------------------------------------------------------: |
| ![내 프로필 페이지 (기관) - 상품 등록](https://github.com/timetam24/FES7_api_try/assets/135303974/9520fb5d-046e-4258-a269-f63795e7905b) | ![내 프로필 페이지 (기관) - 상품 수정](https://github.com/timetam24/FES7_api_try/assets/135303974/96e27e10-aa83-4400-aeb2-8a11895e1698) | ![내 프로필 페이지 (기관) - 상품 삭제](https://github.com/timetam24/FES7_api_try/assets/135303974/42c9f2ad-4224-4562-8d87-3a2d3bca8da1) |

|                                                                내 프로필 페이지 - 프로필 수정                                                                |                                                            다른 사용자 프로필 페이지 - 채팅방                                                            |                                                     다른 사용자 프로필 페이지 - 팔로우/언팔로우                                                     |
| :-------------------------------------------------------------------------------------------------------------------------------------: | :--------------------------------------------------------------------------------------------------------------------------------: | :--------------------------------------------------------------------------------------------------------------------: |
| ![프로필 수정](https://github.com/timetam24/FES7_api_try/assets/135303974/c44bb855-2eb8-4971-860d-b2a6a3931cf9) | ![다른 사용자 프로필 - 채팅방](https://github.com/timetam24/FES7_api_try/assets/135303974/73e5b27a-42b0-4963-ad68-46b188b3f636) | ![팔로우 언팔로우](https://github.com/timetam24/FES7_api_try/assets/135303974/900cc784-7033-443a-af35-28cc66447c65) |

|                                                          다른 사용자 프로필 페이지 - 공유하기                                                          |                                                         팔로우/팔로워 리스트                                                         |                                                            게시물 작성                                                        |
| :-----------------------------------------------------------------------------------------------------------------------------: | :-------------------------------------------------------------------------------------------------------------------------: | :-------------------------------------------------------------------------------------------------------------------------------: |
| ![다른 사용자 프로필 페이지 - 공유](https://github.com/timetam24/FES7_api_try/assets/135303974/156f663a-68e9-419c-9a22-baa874a563cb) | ![팔로우 팔로잉 리스트](https://github.com/timetam24/FES7_api_try/assets/135303974/e9d38c9b-b70b-40f7-bc52-7e4f55e8f361)| ![게시물 작성](https://github.com/timetam24/FES7_api_try/assets/135303974/b1b539a4-6277-4d37-b1b2-4c60c8f1b65e) |

|                                                                   게시물 수정                                                                   |                                                      게시물 삭제                                                       |                                                      게시물 신고                                                      |
| :---------------------------------------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------: |
| ![게시물 수정](https://github.com/timetam24/FES7_api_try/assets/135303974/96a82175-6a58-4a96-a239-0777eb850343) | ![게시물 삭제](https://github.com/timetam24/FES7_api_try/assets/135303974/84947cc3-d475-4748-b1d9-a962d18eaf08) | ![게시물 신고](https://github.com/timetam24/FES7_api_try/assets/135303974/19dee210-4bb8-464b-8e2e-0c973978f2e4)|


|                                                                  게시글 앨범형 / 목록형                                                                   |                                                      댓글 등록                                                      |                                                      댓글 삭제                                                      |
| :---------------------------------------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------: |
| ![게시물 - 앨범형 목록형](https://github.com/timetam24/FES7_api_try/assets/135303974/d9c9183d-0743-420d-ac4f-3bc66461f1cc)| ![댓글 등록](https://github.com/timetam24/FES7_api_try/assets/135303974/5ed627fc-7fe7-435a-a314-6452c2af4565) | ![댓글 삭제](https://github.com/timetam24/FES7_api_try/assets/135303974/8b1f8f35-9e69-422f-9faa-d9b624b725ef) |

|                                                                   댓글 신고                                                                  |                                                      행사 목록                                                      |                                                      행사 상세                                                     |
| :---------------------------------------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------: |
| ![댓글 신고](https://github.com/timetam24/FES7_api_try/assets/135303974/67ae6617-373b-4ecc-b911-3e442a1a8236)| ![행사 목록](https://github.com/timetam24/FES7_api_try/assets/135303974/87039d7a-e57a-49ae-babb-1e071b9fb1f4) | ![행사 상세](https://github.com/timetam24/FES7_api_try/assets/135303974/3dd0fbb3-c799-4245-aa78-0a23b0f2176d) |


|                                                                   행사 상세 - 상품 수정                                                                  |                                                      행사 상세 - 상품 삭제                                                     |                                                      행사 상세 - 문의하기                                                    |
| :---------------------------------------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------: |
| ![행사 상세 - 상품 수정](https://github.com/timetam24/FES7_api_try/assets/135303974/9dd0e82c-e637-4c6b-9aa3-c34042800c09) | ![행사 상세 - 상품 삭제](https://github.com/timetam24/FES7_api_try/assets/135303974/3b451f95-10e5-4446-a407-f79585062b40)| ![문의하기](https://github.com/FRONTENDSCHOOL7/final-18-moamoa/assets/118328426/909c19f7-76b6-435a-b0e3-a14616d7d934) |


|                                                                   로그아웃                                                                  |                                                      채팅방                                                     |                                                      검색                                                    |
| :---------------------------------------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------: |
| ![로그아웃](https://github.com/timetam24/FES7_api_try/assets/135303974/50d4221f-a1dc-463b-8b04-cf3499e66f4f)| ![채팅](https://github.com/FRONTENDSCHOOL7/final-18-moamoa/assets/135303974/d68e5105-5fd3-4eb7-b895-2ce7237e51cc) | ![검색](https://github.com/FRONTENDSCHOOL7/final-18-moamoa/assets/118328426/44d798cd-b265-4b1b-8d64-f130ffc6a876) |



<br />

## 5. 역할 분담
<img width="6710" alt="역할분담" src="https://github.com/FRONTENDSCHOOL7/final-18-moamoa/assets/118328426/743f233f-fc4d-49e5-8dbe-b88ea08b2ab4">


<br />
<br />

## 6. 핵심 코드

### 회원 가입 시 회원 유형 구분

- 서비스 특성에 따라 회원 가입 시 회원 유형(일반 회원 / 기업 및 기관) 선택이 가능합니다.
- 사용자가 선택한 버튼에 따라 변수 userType에 individual 혹은 organization이 저장됩니다.

```jsx
const [userType, setUserType] = useState('');

const handleUserType = (e) => {
    const { name } = e.target;
    setUserType(name);
  };
  
return 
	<h3>회원분류선택</h3>
  <SelectUserBtnContainer>
    <SelectUserBtn
      type='button'
      name='individual'
      onClick={handleUserType}
    >
      일반 회원
    </SelectUserBtn>
    <SelectUserBtn
      type='button'
      name='organization'
      onClick={handleUserType}
    >
      기업 및 기관
    </SelectUserBtn>
  </SelectUserBtnContainer>
```

- 회원가입 POST 요청 시 props로 받은 userType이 ‘individual’이라면 사용자 명 앞에 구분자 [i], 기관이라면 사용자 명 앞에 구분자 [o]를 붙여 회원 분류 처리가 가능하도록 서버에 저장했습니다.

```jsx
const JoinAPI = async (userInfo, userType) => {
  const reqUrl = 'https://api.mandarin.weniv.co.kr/user';

  try {
    const response = await fetch(`${reqUrl}`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        ...userInfo,
        user: {
          ...userInfo.user,
          username:
            userType === 'individual'
              ? `[i]${userInfo.user.username}`
              : `[o]${userInfo.user.username}`,
        },
      }),
    });
    const result = await response.json();
    console.log(result);
    return result;
  } catch (error) {
    if (error.response) {
      const { status, data } = error.response;
      if (status === 422 || status === 404) {
        console.log(data.message);
      }
    }
  }
};
```

### 회원 유형에 따른 프로필 페이지 구성

- 회원 가입 시에 선택한 회원 유형(type)은 부모코드에서 사용자의 데이터를 받아 프로필 페이지를 구성하는 컴포넌트의 프롭스로 전달했습니다.
- 여기서 컴포넌트에게 프롭스로 전달할 사용자 정보를 담은 object는 userInfoDate이며 ProfileDetail 컴포넌트에게 그 값을 전달합니다.
- userType은 'organization’과 'Individual'로 구분됩니다.

```jsx
// YourProfile.jsx, MyProfile.jsx

const userInfoData = {
    profileImg,
    profileUsername,
    profileAccountname,
    profileIntro,
    profileFollowerCount,
    profileFollowingCount,
    userType, // 회원 유형 : 'organization' | 'Individual'
    isFollow,
  };

return (
	<Container>
			{/* ... */}
          <section>
            <ProfileDetail userInfoData={userInfoData} token={token} />
            <Btns>
              {/* ... */}
              {/* 일반 계정일 경우 행사 등록 버튼 제거 */}
              {userType === 'organization' ? (
                <button
                  type='button'
                  onClick={() => {
                    navigate('/product');
                  }}
                >
                  행사 등록
                </button>
              ) : null}
            </Btns>
          </section>
        {/* ... */}
        {/* 일반 계정일 경우 행사 리스트 UI 제거 */}
        {userType === 'organization' ? <ProfileDetailProduct /> : null}
      {/* ... */}
  </Container>
)
```

- ProfileDetail 컴포넌트에서는 프롭스 정보를 사용해 조건부 렌더링으로 프로필 페이지를 구성했습니다.
- 프롭스 정보에서 profileUsername에 구분자 [i]나 [o]가 있다면 그 값을 지우며, 만약 userType이 organization이라면 화면에 출력되는 username 뒷쪽에 공식 인증 마크를 추가합니다.

```jsx
// ProfileDetail.jsx

export default function ProfileDetail({ userInfoData, token }) {

  return (
    <ProfileDetailBox>
        {/* ... */}
        <ProfileInfo>
          <div>
            {/* 행사 리스트 출력  */}
            <p>
              {userInfoData.userType === 'organization'
                ? userInfoData.profileUsername.replace('[o]', '')
                : userInfoData.profileUsername.replace('[i]', '')}
              {userInfoData.userType === 'organization' ? <img src={UserTypeCheck} alt='' /> : ''}
            </p>
            {/* ... */}
        </ProfileInfo>

        <CountWrap>
	{/* 회원 유형에 따른 게시글 수 차이*/}
          {userInfoData.profileAccountname &&
            userInfoData.profileImg &&
            userInfoData.profileUsername && (
              <PostCnt
                src={userInfoData.profileAccountname}
                token={token}
                userType={userInfoData.userType}
              />
            )}
          {/* ... */}
        </CountWrap>
      {/* ... */}
    </ProfileDetailBox>
  );
}
```

- 그리고 회원 유형에 따른 게시글 수의 차이를 주었습니다.
- 먼저 유저별 게시글 목록을 가져오는 API와 상품 리스트 정보를 가져오는 API를 이용하여 각각의 길이를 계산하였습니다. 그리고 그들의 합은 게시글 수의 값이 됩니다.
- 이때, 판매자 계정이 아닐경우 상품 리스트 정보, 즉 행사 길이를 0으로 지정하였습니다.

```jsx
// 게시글 수
function PostCnt({ src, token, userType }) {
  const [postCount, setPostCount] = useState(0);
  const [productCount, setProductCount] = useState(0);
	
  // 유저별 게시글 목록을 가져오는 API를 이용하여 게시글 수 계산...

  // 상품 리스트 정보를 가져오는 API를 이용하여 행사 수 계산
  const fetchProductCount = async () => {
    const res = await fetch(`https://api.mandarin.weniv.co.kr/product/${src}`, {
      method: 'GET',
      headers: {
        Authorization: `Bearer ${token}`,
        'Content-type': 'application/json',
      },
    });
    const json = await res.json();
    setProductCount(json.product.length);
    //판매자 계정이 아닐경우 행사 길이가 0
    userType === 'organization' ? setProductCount(json.product.length) : setProductCount(0);
  };

  // ...

  return (
    <PostCountWrap>
      <p>{postCount + productCount}</p>
      <p>게시글 수</p>
    </PostCountWrap>
  );
}
```

### 행사 등록 시 행사 유형 구분 & API 요청 시 가격을 기간으로 변경 사용

#### 1. 행사 등록 시 행사 유형 구분
- 기업 및 기관은 행사 등록 시 행사 유형 (축제/체험) 선택이 가능합니다.
- 기업 및 기관이 선택한 버튼에 따라 변수 eventType에 festival 혹은 experience가 저장됩니다.

```jsx
const [eventType, setEventType] = useState('');

return <SelectedButton
                id='category'
                type='button'
                onClick={() => setEventType('festival')}
                selected={eventType === 'festival'}
              >
                축제
              </SelectedButton>
              <SelectedButton
                id='category'
                type='button'
                onClick={() => setEventType('experience')}
                selected={eventType === 'experience'}
              >
                체험
              </SelectedButton>
```

- 상품 등록 POST 요청 시 props로 받은 eventType이 ‘festival’이라면 상품명 앞에 구분자 [f], 체험이라면 상품명 앞에 구분자 [e]를 붙여 행사 분류 처리가 가능하도록 서버에 저장했습니다.

```jsx
const ProductUploadAPI = (inputValue) => {
  const reqURL = 'https://api.mandarin.weniv.co.kr/product';
  const token = useRecoilValue(userTokenAtom);
  const { eventName, eventPeriod, eventDetail, imgSrc, eventType } = inputValue;

  const uploadProduct = async () => {
    try {
      await axios({
        method: 'post',
        url: reqURL,
        headers: {
          Authorization: `Bearer ${token}`,
        },
        data: {
          product: {
            itemName: eventType === 'festival' ? `[f]${eventName}` : `[e]${eventName}`,
            price: eventPeriod,
            link: eventDetail,
            itemImage: imgSrc,
          },
        },
      }).then((res) => {
        console.log(res.data);
      });
    } catch (error) {
      if (error.response) {
        const { status, data } = error.response;
        if (status === 422 || status === 404) {
          console.log(data.message);
        }
      }
    }
  };
  return uploadProduct;
};
```

#### 2. API 요청 시 가격을 기간으로 변경 사용
- 상품 등록 api 요청 시 “price”를 “행사 진행 기간”으로 사용하기 위해 2개의 string 값들을 1개의 number 값으로 변환하는 작업을 해주었습니다.

```jsx
상품등록 Req
{
		"product":{
				"itemName": String,
				"price": Number,//1원 이상
				"link": String,
				"itemImage": String
		}
}
```

- 2개의 Input (type=’date’)에서 사용자가 행사 시작일와 행사 종료일을 선택하면 변수 eventStartDate, eventEndDate에 각각 string 타입의 날짜가 저장됩니다. (ex. “2023-11-08”, “2023-11-09”)

```jsx
<PeriodInput
	type='date' id='event-period' 
	onChange={(e) => setEventStartDate(e.target.value)} value={eventStartDate}
  pattern='yyyy-MM-dd' max='9999-12-31'>
</PeriodInput>
<PeriodInput 
	type='date' id='event-period'
  onChange={(e) => setEventEndDate(e.target.value)} value={eventEndDate}
  pattern='yyyy-MM-dd' max='9999-12-31'>
</PeriodInput>
```

- 함수 checkTwoDates를 사용하여 행사 시작일이 행사 종료일보다 늦지 않은지 체크합니다. 만약 시작일이 종료일보다 더 늦다면 안내 메세지를 출력합니다.

```jsx
const checkTwoDates = () => {
    if (eventStartDate && eventEndDate && eventStartDate > eventEndDate) {
      setPeriodInfoMsg('행사 시작 날짜와 행사 종료 날짜를 다시 확인해주세요.');
    } else {
      setPeriodInfoMsg('');
    }
  };
```

- 행사 등록 폼 제출은 HeaderButton을 클릭하여 가능합니다. 시작일이 종료일보다 늦다면 버튼은 활성화 되지 않습니다.

```jsx
<HeaderButton onClick={submitProduct}
            disabled={
              !imgSrc || eventName.length < 2 || !eventStartDate || !eventEndDate ||
              !eventDetail || !eventType || eventStartDate > eventEndDate
            }> 저장
</HeaderButton>
```

- 함수 twoDatesIntoOneString을 사용하여 2개의 string 타입 날짜들을 1개의 number 타입 날짜로 변환 시켰습니다. 사용자가 시작 날짜 또는 종료 날짜를 선택하면 datesArr 배열에 담습니다. 그 후 map, parseInt, replaceAll을 사용하여 2개의 날짜에서 ‘-’를 빼고 숫자로 변환합니다. 마지막으로 join을 사용하여 2개의 날짜를 합쳐서 변수 eventPeriod에 담아 상품 등록 api 요청을 보냅니다. ex. 2023110820231109

```jsx
 const twoDatesIntoOneString = () => {
    const datesArr = [];
    if (eventStartDate) {
      datesArr.push(eventStartDate);
    }
    if (eventEndDate) {
      datesArr.push(eventEndDate);
    }

    const putDatesIntoArray = datesArr.map((date) => parseInt(date.replaceAll('-', '')));
    // .sort((firstDate, lastDate) => firstDate - lastDate);
    setEventPeriod(parseInt(putDatesIntoArray.join('')));
  };
```

### 행사 리스트 렌더링

상품 등록에서 구분한 축제와 체험을 filter를 이용하여 구분했습니다.

```jsx
.filter((item) => return item.itemName.includes('[f]'));
```

상품의 price에는 input type:date 두 개로 받아온 긴 숫자(ex. 2023070120231110)에서 문자열로 바꾸고 slice를 이용하였고 사이에 `.`과  `~` 를 추가하여 행사기간:년도.월.일~년도.월.일 방식으로 만들었습니다.

```jsx
<p className='itemDate'>
{'행사기간: ' +
`${item.price.toString().slice(2, 4)}.${item.price
.toString()
.slice(4, 6)}.${item.price.toString().slice(6, 8)}~${item.price
.toString()
.slice(10, 12)}.${item.price.toString().slice(12, 14)}.${item.price
.toString()
.slice(14, 16)}`}
</p>
```

그리고 다른 조와 함께 서버를 사용하여 저희 축제 목록에 다른 조의 상품이 겹치는 것을 방지하기 위해 price의 긴 자리 수의 특수성을 이용하여 price.length를 이용해  모아모아 조가 올린 행사만 담도록 하였습니다.

```jsx
.filter((item) => {
                    if (item.price.toString().length >= 16) {
                      return true;
                    }
                    return false;
                  }
```



<br />

## 7. 협업 방법


### **Notion** [👉보러가기👈](https://www.notion.so/18-18-6c86a9d229d34412b3d9f75ed7a1315c)

![노션](https://github.com/FRONTENDSCHOOL7/final-18-moamoa/assets/135303974/c3ff20eb-caa5-48e2-b254-8e066d8f66f4) |![노션2](https://github.com/FRONTENDSCHOOL7/final-18-moamoa/assets/135303974/33d9467f-1662-4a6e-9da8-7b6018b7c210)
--- | --- | 
- 회의 전 회의록을 작성하여 계획과 일정을 미리 공유했습니다. 
- 중요 사항들을 잊지 않도록 회의록에 기록했습니다. 
- 우리가 사용하는 기술을 왜 사용하는지 명확하게 이해하기 위하여 서로 공부한 자료들을 공유하였습니다.
- 오류나 어려움을 겪은 부분은 트러블 슈팅 페이지에 기록하여 조원들과 공유하였습니다.

<br/>

### Discord

![discord](https://github.com/timetam24/Toys-that-can-be-broken/assets/135303974/26a72e1c-18f7-4817-9597-fc06c1092c43)
- 매일 아침 디스코드를 통해 데일리 스크럼을 진행했습니다.
- 작업을 진행하다가 도움이 필요한 상황, 혹은 확인이 필요한 상황이 발생하면 즉각적으로 디스코드 회의실 내 채팅방을 이용하여 문제를 겪는 부분을 실시간으로 공유하며 작업하였습니다.

<br/>

### Figma [👉보러가기👈](https://www.figma.com/file/C5Nhihukf9hNrpVaKVIBdU/%EB%AA%A8%EC%95%84%EB%AA%A8%EC%95%84%ED%8E%98%EC%8A%A4%ED%8B%B0%EB%B2%8C?type=design&node-id=0%3A1&mode=design&t=EdEEYvdQYyXLFYKf-1)
![figma](https://github.com/timetam24/Toys-that-can-be-broken/assets/135303974/5fd7271f-3ff1-4b88-ac8f-2eb231c4ea48)
- 피그마를 이용하여 디자인 작업을 하였고, API 명세와 비교를 하였습니다.
- 초반 작업은 전체적인 흐름의 이해를 위하여 작업 순서도를 그렸습니다.
- 프로젝트를 진행하면서 변수로 작용할 부분은 어디가 될지 생각하며 디자인 수정을 거쳤습니다.

<br/>

### **GitHub**

#### GitHub Project
![project](https://github.com/timetam24/Toys-that-can-be-broken/assets/135303974/27fec750-2cd3-4cc5-831d-84b9fa1bf24b)

#### GitHub issue template


<img width="778" alt="fsdfsd" src="https://github.com/timetam24/Toys-that-can-be-broken/assets/135303974/ee259aab-8202-48e0-808e-3f96e43b0d98"> |<img width="1036" alt="issue" src="https://github.com/timetam24/Toys-that-can-be-broken/assets/135303974/b5633eed-100f-454c-8d95-6820f4fbd4db">
--- | --- | 




#### GitHub PR template

<img src='https://github.com/timetam24/Toys-that-can-be-broken/assets/135303974/e422d4b3-e977-40dd-8f3f-b4d99b18e8bd'> | <img src='https://github.com/timetam24/Toys-that-can-be-broken/assets/135303974/d1a789ee-1ef1-47ce-a703-4f4d5243ad6a'>
--- | --- | 


- 효율적인 협업과 작업 품질 향상을 위하여 깃헙 Project, Issue template, PR template을 사용하였습니다.

<br />

## 8. 팀 컨벤션

### **코드 컨벤션**

#### 1) Prettier

```
{
	"bracketSpacing":  true, // 객체 리터럴에서 괄호에 공백 삽입
	"jsxBracketSameLine":  false, // JSX의 마지막 `>`를 다음 줄로 내릴지 여부
	"jsxSingleQuote":  true, // JSX에 작은 따옴표 사용 여부
	"singleQuote":  true, // 작은 따옴표 사용 여부
	"proseWrap":  'preserve', // markdown 텍스트의 줄바꿈 방식 (v1.8.2)
	"semi":  true, //문장의 끝에 세미콜론 추가
	"printWidth":  100, //한 줄의 최대 길이를 100으로 제한 
	"endOfLine": "auto", // EoF 방식, OS별로 처리 방식이 다름
	"useTabs":  false, // 탭 사용 여부
	"tabWidth":  2, // 들여쓰기 간격을 2로 설정 
	"trailingComma":  'all', // 여러 줄을 사용할 때, 후행 콤마 사용 방식
	"arrowParens":  'always', // 화살표 함수 괄호 사용 여부
}
```

#### 2) ESLint

```
{
  "extends": ["react-app", "prettier"],
  "rules": {
    "indent": ["error", 2, { "SwitchCase": 1 }], // 들여쓰기 2칸만 허용
    "no-var": "error", // // var 키워드 사용 금지
    "require-await": "error", // async 함수 내부에 await 키워드가 없으면 오류 발생
    "eqeqeq": "warn", // ==, != 대신에 ===, !== 사용
    "react/prop-types": 0, // 프롭스 타입 무시
    "no-unused-vars": "off" // 호출되지 않은 변수도 사용 가능하게 설정
  }
}
```

 
### **커밋 컨벤션**

```
- Feat: 새로운 기능 추가
- Fix: 버그 수정
- Docs: 문서 수정 (예 : readme.md, json 파일 등 수정/ 문서 관련 라이브러리 설치 등)
- style: CSS 등 사용자 UI 디자인 변경
- convention: 코드 formatting, 세미콜론 누락, 코드 자체의 변경이 없는 경우
- Refactor: 코드 리팩토링 (성능 개선, 코드의 양이 줄었다 등...)
- Test: 테스트 코드 추가, 삭제, 변경 등 (코드 수정 없음, 테스트 코드에 관련된 모든 변경에 해당)
- Comment: 필요한 주석 추가 및 변경
- Chore: 패키지 매니저 수정, 그 외 기타 수정 ex) .gitignore
- Config: npm 모듈 설치 등
- Rename: 파일 또는 폴더 명을 수정하거나 옮기는 작업만인 경우
- Remove: 파일을 삭제하는 작업만 수행한 경우
- Release: 배포
- !HOTFIX: 급하게 치명적인 버그를 고쳐야 하는 경우
- Init: 프로젝트 초기 생성

```

<br/>

## 9. 폴더 구조

<details>
<summary>📁 MOAMOA</summary>
<div markdown="1">
 
    📦
    ├─ .DS_Store
    ├─ .github
    │  ├─ ISSUE_TEMPLATE
    │  │  └─ 이슈-생성-템플릿.md
    │  └─ pull_request_template.md
    └─ moamoa
       ├─ .env
       ├─ .eslintrc.js
       ├─ .eslintrc.json
       ├─ .gitignore
       ├─ .prettierrc
       ├─ README.md
       ├─ package-lock.json
       ├─ package.json
       ├─ public
       │  ├─ favicon.ico
       │  └─ index.html
       └─ src
          ├─ API
          │  ├─ Auth
          │  ├─ Comment
          │  ├─ Follow
          │  ├─ Img
          │  ├─ Post
          │  ├─ Product
          │  ├─ Profile
          │  ├─ Search
          │  └─ Valid
          ├─ App.css
          ├─ App.js
          ├─ Assets
          │  ├─ icons
          │  └─ images
          ├─ Components
          │  ├─ Comment
          │  ├─ Common
          │  ├─ Home
          │  ├─ Modal
          │  └─ Post
          ├─ GlobalStyle.jsx
          ├─ Hooks
          │  ├─ Search
          │  └─ Sign  
          ├─ Pages
          │  ├─ Chat
          │  ├─ Follow
          │  ├─ Home
          │  ├─ NotFound.jsx
          │  ├─ Post
          │  ├─ Product
          │  ├─ Profile
          │  ├─ Search
          │  ├─ Sign
          │  └─ Splash
          ├─ Recoil
          ├─ Router
          ├─ fonts.css
          ├─ index.css
          └─ index.js
    
</div>
</details>

<br/>

## 10. 프로젝트 참여소감

### 송재웅
이 프로젝트를 진행하면서 많은 지식과 경험을 얻었습니다. 이 기능을 구현하기 위해 필요한 것을 배우는 것뿐만 아니라, 문제에 직면했을 때 문제 해결과 고민하는 시간도 많이 보냈습니다. 기능을 올바르게 작동시키기까지의 과정은 상당한 시간이 걸렸고, 이 과정을 통해 개인적으로 크게 성장하게 되었습니다. 프로젝트가 진행됨에 따라 처음에 있던 어려움과 얼마나 나아졌는지를 되돌아보지 않을 수 없었습니다. 결과적으로 프로젝트의 성공에 기여한 것에 대한 큰 만족감을 느꼈습니다. 이러한 협업 경험은 제게 큰 가치가 있었습니다. 이 프로젝트에서 얻은 교훈과 경험을 미래에도 소중히 여기겠습니다. 성공적인 프로젝트를 위해 열심히 노력한 조원들에게 감사합니다.
    

### 유의진
프로젝트도 처음 해보고 팀장도 처음 맡아봐서 부족한 점도 힘든 점도 많았지만 그만큼 배우고 성장할 수 있는 시간이었다고 생각합니다. 
이번 프로젝트 경험을 통해 코드가 제 생각처럼 작동하지 않더라도 문제의 원인을 끝까지 찾다보면 결국 해결할 수 있다는 점을 배웠습니다.
제가 막히는 순간이 올때마다 항상 친절하게 도움주셨던 멘토님과 강사님들께 너무 감사드립니다. 그리고 밤낮 가리지 않고 불타는 열정을 보여주셨던 저희 낭랑 18조 팀원분들께도 너무 감사하다는 말씀을 드리고 싶습니다. 여러분들과 함께해서 프로젝트를 잘 마무리했다고 생각합니다. 한 달동안 모두 너무 고생많으셨습니다!!


### 이해지
이 프로젝트 참여는 저에게 협업의 중요성을 깨닫게 해주는 값진 경험이었습니다. 주어진 API를 사용하는 과제는 처음에는 제 능력을 시험하는 도전으로 다가왔고, 때로는 실력의 한계를 느끼며 어려움을 겪기도 했습니다. 하지만, 훌륭한 팀원들과의 만남은 이 프로젝트를 진행하는 데 있어 큰 힘이 되었습니다. 서로의 약점을 보완하고, 격려를 주고받으며 함께 성장해 나가는 과정 속에서 최종적으로 좋은 결과물을 만들어낼 수 있었습니다. 프로젝트를 진행하는 내내 너무나 즐거웠고, 함께해주신 조원분들께 깊이 감사드립니다. 앞으로 남은 리팩토링 작업도 무척이나 기대하고 있습니다. 계속해서 잘 부탁드리겠습니다!!
    

### 장수연
이번 프로젝트를 통해 프로그래밍에서 오류를 해결하는 과정이 얼마나 중요한지를 배울 수 있었습니다. 문제를 찾아내고 해결해나가는 과정에서 많이 성장했다고 느낍니다. 또, 평소에 컴포넌트화를 어떻게 해야하는지에 대한 대한 의문점이 많았는데, 프로젝트를 진행하며 코드의 가독성을 높이고 유지보수를 용이하게 하는 컴포넌트화의 중요성을 체감했고, 컴포넌트화 하는 방법에 대해 공부할 수 있었습니다. 좋은 팀원분들을 만나  서로의 부족한 점을 채우며 즐겁게 프로젝트를 마무리 할 수 있었습니다. 감사합니다! 낭랑 18조👶💛
